<div class="card">
  <div class="card-body">
    <!-- title -->
    <div class="row">
      <div class="col-md-9">
        <h4 class="card-title">Doanh thu Tour</h4>
      </div>
      <div class="col-md-3">
        <input type="text" class="rounded-input" [(ngModel)]="searchTourName" placeholder="Tìm tên tour..." (input)="searchTour()">
        <span class="fa fa-search search-icon"></span>
      </div>
    </div>
    <br>
    <div class="table table-bordered table-light table-striped">
      <table class="table align-middle mb-0">
        <thead>
          <tr>
            <!-- Tên tour -->
            <th
              class="text-dark font-medium fs-4 text-center clickable"
              (click)="sortBy('total_name')"
            >
              Tên tour
              <span class="icon"> <i class="fa fa-sort"></i></span>
            </th>
            <!-- Giá người lớn -->
            <th
              class="text-dark font-medium fs-4 text-center clickable"
              (click)="sortBy('adult_price')"
            >
              Giá người lớn
              <span class="icon">
                <i class="fa fa-sort"></i>
              </span>
            </th>
            <!-- Giá thiếu nhi -->
            <th
              class="text-dark font-medium fs-4 text-center clickable"
              (click)="sortBy('children_price')"
            >
              Giá trẻ em
              <span class="icon">
                <i class="fa fa-sort"></i>
              </span>
            </th>
            <!-- Người lớn đặt -->
            <th
              class="text-dark font-medium fs-4 text-center clickable"
              (click)="sortBy('adult_bookings')"
            >
              Người lớn
              <span class="icon">
                <i class="fa fa-sort"></i>
              </span>
            </th>
            <!-- Thiếu thi đặt -->
            <th
              class="text-dark font-medium fs-4 text-center clickable"
              (click)="sortBy('children_bookings')"
            >
              Trẻ em
              <span class="icon">
                <i class="fa fa-sort"></i>
              </span>
            </th>
            <!-- Tổng doanh thu -->
            <th
              class="text-dark font-medium fs-4 text-center clickable"
              (click)="sortBy('total_revenue')"
            >
              Tổng doanh thu
              <span class="icon">
                <i class="fa fa-sort"></i>
              </span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ts of TourRevenue | paginate: { itemsPerPage: 10, currentPage: currentPage }; let i = index">
            <td>
              <h6 class="mb-0 font-medium">{{ ts.total_name }}</h6>
            </td>
            <td>
              <h6 class="mb-0 font-medium">{{ formatCurrency(ts.adult_price) }}</h6>
            </td>
            <td>
              <h6 class="mb-0 font-medium">
                {{ formatCurrency(ts.children_price) }}
              </h6>
            </td>
            <td>
              <h6 class="mb-0 font-medium">
                {{ ts.adult_bookings }}
              </h6>
            </td>
            <td>
              <h6 class="mb-0 font-medium">
                {{ ts.children_bookings }}
              </h6>
            </td>
            <td>
              <h6 class="mb-0 font-medium text-center">
                {{ formatCurrency(ts.total_revenue) }}
              </h6>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="!searchFound">
        <p class="text-center" style="padding: 10px;">Không tìm thấy kết quả.</p>
      </div>
    </div>
  </div>
</div>
<div class="row mt-5">
  <div class="col text-center">
    <pagination-controls (pageChange)="currentPage=$event" [maxSize]="5" [directionLinks]="true" [autoHide]="true" [previousLabel]="'Trước'" [nextLabel]="'Tiếp'"></pagination-controls>
  </div>
</div>
