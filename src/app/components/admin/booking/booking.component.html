<div class="card p-4">
  <h4 class="text-left text-info">DANH SÁCH BOOKING</h4>
  <div class="table-responsive">
    <table class="table table-hover align-middle text-nowrap">
      <caption> <pagination-controls (pageChange)="p = $event" nextLabel="Sau" previousLabel="Trước"></pagination-controls></caption>
      <thead class="text-center">
        <th class="col-md-1">ID</th>
        <th class="col-md-2 text-left">Họ và tên</th>
        <th class="col-md-2 text-left">Số điện thoại</th>
        <th class="col-md-2">Email</th>
        <th class="col-md-2">Tổng tiền</th>
        <th class="col-md-1">Ngày book</th>
        <th class="col-md-1">Trạng thái</th>
        <th class="col-md-1"></th>
      </thead>

      <tbody *ngIf="loading" class="loading-container">
        <tr>
          <td colspan="9">
            <p>Loading<span class="ellipsis">...</span></p>
          </td>
        </tr>
      </tbody>

      <tbody *ngIf="!loading">
        <tr *ngFor="let booking of bookings| paginate: { itemsPerPage: itemsPerPage, currentPage: p }">
          <td class="text-center">Booking_{{booking.id}}</td>
          <td>{{booking.createUser.fullname}}</td>
          <td class="text-left">{{booking.createUser.phone}}</td>
          <td>{{booking.createUser.email}}</td>
          <td class="text-center">{{booking.totalPrice|number}} VNĐ</td>
          <td class="text-center">{{booking.updateTime |date:'dd-MM-yyyy'}}</td>
          <td class="text-center" [ngSwitch]="booking.status">
            <span *ngSwitchCase="0" class="badge bg-secondary">
              Chưa thanh toán
            </span>
            <span *ngSwitchCase="1" class="badge bg-success">
              Đã thanh toán
            </span>
            <span *ngSwitchCase="2" class="badge bg-danger">
              Đã hủy
            </span>
          </td>
          <td class="text-center">
            <button class="btn btn-info" [routerLink]="['/admin/manage/booking/detail/'+booking.id]"><i
                class="bi bi-card-list"></i></button>
            <button class="btn btn-danger ml-1" (click)="cancelBooking(booking.id)" *ngIf="booking.status!==bookingStatus1" ><i class="bi bi-trash3"  ></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
